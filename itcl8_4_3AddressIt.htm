<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8.4.3 Guided Activity: Address It!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .step-card { display: none; }
        .step-card.active { display: block; }
        .progress-bar { transition: width 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .feedback-animate { animation: fadeIn 0.4s ease forwards; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen font-sans text-slate-900 pb-12">

    <div class="max-w-3xl mx-auto px-4 pt-8">
        <!-- Header -->
        <header class="mb-8 text-center">
            <h1 class="text-3xl font-bold text-slate-800">8.4.3 Guided Activity: Address It!</h1>
            <p class="text-slate-600 mt-2">NTI Day Lesson & Interactive Lab</p>
        </header>

        <!-- Lesson Notes Section -->
        <section class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 mb-8">
            <h2 class="text-xl font-semibold text-blue-700 mb-4 border-b pb-2">üìñ Today's Concept: Why Devices Need Addresses</h2>
            <div class="space-y-4 text-slate-700">
                <div class="bg-blue-50 p-4 rounded-lg border-l-4 border-blue-400">
                    <p class="italic text-blue-900">‚ÄúThe network figures out the path. The address is the destination.‚Äù</p>
                </div>
                <ul class="list-disc pl-5 space-y-2">
                    <li><strong>The Big Idea:</strong> Every device on a network needs a way to be identified.</li>
                    <li><strong>Packets:</strong> Data travels in small pieces called packets.</li>
                    <li><strong>Routers:</strong> Routers read the address to decide where to send the packet next.</li>
                </ul>
            </div>
        </section>

        <!-- Activity UI -->
        <main id="activity-container" class="bg-white rounded-xl shadow-md border border-slate-200 overflow-hidden">
            <!-- Progress -->
            <div class="bg-slate-100 h-2 w-full">
                <div id="progress" class="progress-bar bg-green-500 h-full w-0"></div>
            </div>

            <div class="p-6">
                <!-- Start Page -->
                <div id="step-0" class="step-card active text-center py-8">
                    <h2 class="text-2xl font-bold mb-4">Interactive Challenge</h2>
                    <p class="mb-6 text-slate-600">You will analyze 4 scenarios. For each one, you'll receive instant feedback to help you understand how network addresses work.</p>
                    <button onclick="goToStep(1)" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full transition shadow-lg">
                        Start Activity
                    </button>
                </div>

                <!-- Scenario Template (1-4) -->
                <div id="scenario-forms">
                    <!-- Javascript will populate this -->
                </div>

                <!-- Final Page -->
                <div id="step-5" class="step-card">
                    <h2 class="text-2xl font-bold text-green-700 mb-4 text-center">Mastery Achieved! ‚úÖ</h2>
                    <p class="mb-4 text-center">You've successfully identified how addresses guide data across different network types. Review your final thoughts below.</p>
                    <textarea id="final-output" class="w-full h-64 p-4 font-mono text-sm bg-slate-900 text-green-400 rounded-lg border border-slate-700 mb-4" readonly></textarea>
                    
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button onclick="copyToClipboard()" class="bg-slate-800 hover:bg-slate-900 text-white px-6 py-3 rounded-lg flex items-center justify-center gap-2">
                            <span>üìã Copy Response</span>
                        </button>
                    </div>
                    <div id="copy-msg" class="text-center mt-4 text-green-600 font-bold hidden">Copied to clipboard!</div>
                </div>
            </div>
        </main>
        
        <footer class="mt-8 text-center text-slate-400 text-sm">
            itcl8_4_3AddressIt.htm ‚Ä¢ Guided NTI Activity
        </footer>
    </div>

    <script>
        const scenarios = [
            { 
                id: 1, 
                title: "Scenario 1: Sending an Email", 
                description: "You click 'Send' on an email to a friend.", 
                keywords: ["router", "packet", "destination", "identif", "find", "delivery"],
                guidance: "Think about how the email service knows which of the billions of people on Earth should receive your message."
            },
            { 
                id: 2, 
                title: "Scenario 2: Streaming a Video", 
                description: "You open YouTube and watch a 4K video.", 
                keywords: ["server", "device", "request", "packet", "return", "home"],
                guidance: "YouTube has the video, but how does it know to send those packets specifically to your screen and not your neighbor's?"
            },
            { 
                id: 3, 
                title: "Scenario 3: Printing a Document", 
                description: "You send a PDF from your laptop to the library printer.", 
                keywords: ["local", "printer", "identify", "correct", "network"],
                guidance: "The library has 10 printers. How does your document 'find' the one you are standing next to?"
            },
            { 
                id: 4, 
                title: "Scenario 4: Playing an Online Game", 
                description: "You move your character and 50 other players see it happen instantly.", 
                keywords: ["server", "update", "player", "address", "sync"],
                guidance: "Your movements are data. The game server needs to know who sent the move and where to broadcast it."
            }
        ];

        const formContainer = document.getElementById('scenario-forms');

        scenarios.forEach(s => {
            const div = document.createElement('div');
            div.id = `step-${s.id}`;
            div.className = 'step-card space-y-6';
            div.innerHTML = `
                <div>
                    <span class="text-xs font-bold uppercase tracking-wider text-blue-500">Guided Challenge ${s.id} of 4</span>
                    <h2 class="text-2xl font-bold text-slate-800">${s.title}</h2>
                    <p class="text-slate-600 italic">${s.description}</p>
                </div>

                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-1">Sender:</label>
                        <input type="text" id="sender-${s.id}" class="w-full border-2 border-slate-200 p-3 rounded-lg focus:border-blue-500 outline-none" placeholder="Who created the data?">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-1">Receiver:</label>
                        <input type="text" id="receiver-${s.id}" class="w-full border-2 border-slate-200 p-3 rounded-lg focus:border-blue-500 outline-none" placeholder="Who is supposed to get it?">
                    </div>
                    <div>
                        <label class="block text-sm font-bold text-slate-700 mb-1">Why an address is needed:</label>
                        <textarea id="why-${s.id}" class="w-full border-2 border-slate-200 p-3 rounded-lg focus:border-blue-500 outline-none h-24" placeholder="How does the address help?"></textarea>
                    </div>
                </div>

                <div id="feedback-${s.id}" class="hidden p-4 rounded-lg text-sm feedback-animate"></div>

                <div class="flex justify-between items-center pt-4">
                    <button onclick="goToStep(${s.id - 1})" class="text-slate-500 hover:text-slate-700 font-semibold">Back</button>
                    <button id="btn-${s.id}" onclick="checkStep(${s.id})" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg shadow-md transition">
                        Check Answer
                    </button>
                </div>
            `;
            formContainer.appendChild(div);
        });

        function goToStep(n) {
            document.querySelectorAll('.step-card').forEach(el => el.classList.remove('active'));
            document.getElementById(`step-${n}`).classList.add('active');
            const progress = (n / 5) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
            if (n === 5) generateFinal();
        }

        function checkStep(id) {
            const s = document.getElementById(`sender-${id}`).value.toLowerCase();
            const r = document.getElementById(`receiver-${id}`).value.toLowerCase();
            const w = document.getElementById(`why-${id}`).value.toLowerCase();
            const fb = document.getElementById(`feedback-${id}`);
            const btn = document.getElementById(`btn-${id}`);

            if (!s || !r || !w) {
                fb.className = "p-4 rounded-lg text-sm bg-amber-50 text-amber-800 border border-amber-200 feedback-animate block";
                fb.innerHTML = "<strong>Wait!</strong> Please fill out all fields before checking.";
                return;
            }

            const scenario = scenarios.find(sc => sc.id === id);
            const foundKeyword = scenario.keywords.some(k => w.includes(k));

            if (foundKeyword) {
                fb.className = "p-4 rounded-lg text-sm bg-green-50 text-green-800 border border-green-200 feedback-animate block";
                fb.innerHTML = `<strong>Spot on!</strong> You've correctly identified that an address is required for identification and delivery. Click 'Next' to continue.`;
                btn.innerText = "Next Scenario";
                btn.onclick = () => goToStep(id + 1);
                btn.classList.replace('bg-blue-600', 'bg-green-600');
            } else {
                fb.className = "p-4 rounded-lg text-sm bg-blue-50 text-blue-800 border border-blue-200 feedback-animate block";
                fb.innerHTML = `<strong>Hint:</strong> ${scenario.guidance} Try to include words like 'packet', 'router', or 'destination' in your explanation.`;
            }
        }

        function generateFinal() {
            let output = "Sender/Receiver Analysis\n";
            output += "---------------------------------\n";
            scenarios.forEach(s => {
                output += `Sender: ${document.getElementById(`sender-${s.id}`).value}\n`;
                output += `Receiver: ${document.getElementById(`receiver-${s.id}`).value}\n`;
                output += `Why an address is needed: ${document.getElementById(`why-${s.id}`).value}\n\n`;
            });
            document.getElementById('final-output').value = output;
        }

        function copyToClipboard() {
            const text = document.getElementById('final-output').value;
            const textArea = document.createElement("textarea");
            textArea.value = text;
            document.body.appendChild(textArea);
            textArea.select();
            document.execCommand('copy');
            document.body.removeChild(textArea);
            const msg = document.getElementById('copy-msg');
            msg.classList.remove('hidden');
            setTimeout(() => msg.classList.add('hidden'), 2000);
        }
    </script>
</body>
</html>

